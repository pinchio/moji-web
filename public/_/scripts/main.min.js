!function t(e,n,a){function i(r,s){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return i(n?n:t)},u,u.exports,t,e,n,a)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)i(a[r]);return i}({1:[function(t,e){function n(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var o;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!n.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,u=r.length;u>c;c++)s[r[c]]=i(s[r[c]],s);a&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,a){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,a):i.call(t,e,n,a)},t.addEventListener=function(e,n,a){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),a):i.call(t,e,n,a)}),"function"==typeof t.onclick&&(o=t.onclick,t.addEventListener("click",function(t){o(t)},!1),t.onclick=null)}}var a=navigator.userAgent.indexOf("Android")>0,i=/iP(ad|hone|od)/.test(navigator.userAgent),o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);n.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!a;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){"use strict";var n,a;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),a=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},n.prototype.determineEventType=function(t){"use strict";return a&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){"use strict";var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){"use strict";var e,n,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!o){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},n.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},n.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){"use strict";var e,n,s,c,u,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(u=t.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=l.tagName.toLowerCase(),"label"===s){if(e=this.findControl(l)){if(this.focus(l),a)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),i&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return i&&!o&&(c=l.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},n.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},n.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){"use strict";var t=this.layer;a&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){"use strict";var e,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!a)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction?!0:!1},n.attach=function(t,e){"use strict";return new n(t,e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return n}):"undefined"!=typeof e&&e.exports?(e.exports=n.attach,e.exports.FastClick=n):window.FastClick=n},{}],2:[function(t,e){!function(){function t(e,n){if("function"==typeof e)return t("*",e);if("function"==typeof n)for(var a=new i(e),o=1;o<arguments.length;++o)t.callbacks.push(a.middleware(arguments[o]));else"string"==typeof e?t.show(e,n):t.start(e)}function n(e){var n=window.location.pathname+window.location.search;n!=e.canonicalPath&&(t.stop(),e.unhandled=!0,window.location=e.canonicalPath)}function a(t,e){"/"==t[0]&&0!=t.indexOf(h)&&(t=h+t);var n=t.indexOf("?");if(this.canonicalPath=t,this.path=t.replace(h,"")||"/",this.title=document.title,this.state=e||{},this.state.path=t,this.querystring=~n?t.slice(n+1):"",this.pathname=~n?t.slice(0,n):t,this.params=[],this.hash="",~this.path.indexOf("#")){var a=this.path.split("#");this.path=a[0],this.hash=a[1]||"",this.querystring=this.querystring.split("#")[0]}}function i(t,e){e=e||{},this.path=t,this.method="GET",this.regexp=o(t,this.keys=[],e.sensitive,e.strict)}function o(t,e,n,a){return t instanceof RegExp?t:(t instanceof Array&&(t="("+t.join("|")+")"),t=t.concat(a?"":"/?").replace(/\/\(/g,"(?:/").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(t,n,a,i,o,r){return e.push({name:i,optional:!!r}),n=n||"",""+(r?"":n)+"(?:"+(r?n:"")+(a||"")+(o||a&&"([^/.]+?)"||"([^/]+?)")+")"+(r||"")}).replace(/([\/.])/g,"\\$1").replace(/\*/g,"(.*)"),new RegExp("^"+t+"$",n?"":"i"))}function r(e){if(e.state){var n=e.state.path;t.replace(n,e.state)}}function s(e){if(1==c(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var n=e.target;n&&"A"!=n.nodeName;)n=n.parentNode;if(n&&"A"==n.nodeName){var a=n.getAttribute("href");if((n.pathname!=location.pathname||!n.hash&&"#"!=a)&&!n.target&&u(n.href)){var i=n.pathname+n.search+(n.hash||""),o=i+n.hash;i=i.replace(h,""),h&&o==i||(e.preventDefault(),t.show(o))}}}}function c(t){return t=t||window.event,null==t.which?t.button:t.which}function u(t){var e=location.protocol+"//"+location.hostname;return location.port&&(e+=":"+location.port),0==t.indexOf(e)}var l,d=!0,h="";t.callbacks=[],t.base=function(t){return 0==arguments.length?h:void(h=t)},t.start=function(e){if(e=e||{},!l&&(l=!0,!1===e.dispatch&&(d=!1),!1!==e.popstate&&window.addEventListener("popstate",r,!1),!1!==e.click&&window.addEventListener("click",s,!1),d)){var n=location.pathname+location.search+location.hash;t.replace(n,null,!0,d)}},t.stop=function(){l=!1,removeEventListener("click",s,!1),removeEventListener("popstate",r,!1)},t.show=function(e,n,i){var o=new a(e,n);return!1!==i&&t.dispatch(o),o.unhandled||o.pushState(),o},t.replace=function(e,n,i,o){var r=new a(e,n);return r.init=i,null==o&&(o=!0),o&&t.dispatch(r),r.save(),r},t.dispatch=function(e){function a(){var o=t.callbacks[i++];return o?void o(e,a):n(e)}var i=0;a()},t.Context=a,a.prototype.pushState=function(){history.pushState(this.state,this.title,this.canonicalPath)},a.prototype.save=function(){history.replaceState(this.state,this.title,this.canonicalPath)},t.Route=i,i.prototype.middleware=function(t){var e=this;return function(n,a){return e.match(n.path,n.params)?t(n,a):void a()}},i.prototype.match=function(t,e){var n=this.keys,a=t.indexOf("?"),i=~a?t.slice(0,a):t,o=this.regexp.exec(i);if(!o)return!1;for(var r=1,s=o.length;s>r;++r){var c=n[r-1],u="string"==typeof o[r]?decodeURIComponent(o[r]):o[r];c?e[c.name]=void 0!==e[c.name]?e[c.name]:u:e.push(u)}return!0},"undefined"==typeof e?window.page=t:e.exports=t}()},{}],3:[function(t,e){var n=t("react/addons"),a=(t("jquery"),t("./PagesContainer")),i=t("./Db").get_instance(),o=t("./StaticMixin"),r=t("underscore"),s=n.createClass({displayName:"App",statics:r.extend({},o),getDefaultProps:function(){return{}},render:function(){return this.pages_container=a({db:i}),n.DOM.div({className:"body"},this.pages_container)},go:function(t,e){this.pages_container.go(t,e)}});e.exports=s},{"./Db":4,"./PagesContainer":7,"./StaticMixin":9,jquery:"HlZQrA","react/addons":"g51q1L",underscore:"ZKusGn"}],4:[function(t,e){var n=t("./StaticMixin"),a=t("underscore"),i=function(){this.data={}};i.prototype.set=function(t,e){this.data[t]=e},i.prototype.get=function(t){return this.data[t]},a.extend(i,n),e.exports=i},{"./StaticMixin":9,underscore:"ZKusGn"}],5:[function(t,e){var n=(t("jquery"),{reload:function(t){window.document.location.reload(t)}});e.exports=n},{jquery:"HlZQrA"}],6:[function(t,e){var n=t("jquery"),a={animation_enter:function(t){this.setState({classNames:["page-container",t]})},animation_leave:function(t){this.setState({classNames:["page-container",t]})},scroll_page_to_top:function(){var t=n(this.getDOMNode()).find(".page-body-container"),e=n(this.getDOMNode()).find(".sentinel"),a=t.scrollTop();0===a?location.reload(!0):(t.css({"overflow-y":"hidden"}),setTimeout(function(){t.css({"overflow-y":"auto"}),e.velocity("scroll",{duration:200,easing:"ease-in-out",container:t}).velocity({opacity:1})},0))}};e.exports=a},{jquery:"HlZQrA"}],7:[function(t,e){var n=t("react/addons"),a=n.addons.classSet,i=t("jquery"),o=n.createClass({displayName:"PagesContainer",getInitialState:function(){return{pages:[],current_page:void 0}},go:function(t){for(var e,n=this.state.pages,a=!1,o=i(this.getDOMNode()),r=0,s=n.length;s>r;++r)if(n[r].get_key()===t.get_key()){a=!0,e=n[r];break}o.removeClass("animate-before animate animate-after"),o.addClass("animate-before"),this.state.current_page&&this.state.current_page.animation_leave(t.props.data_leave),a?(this.setState({current_page:e}),e.animation_enter(t.props.data_enter)):(n.push(t),this.setState({pages:n,current_page:t}),t.animation_enter(t.props.data_enter)),setTimeout(function(){o.removeClass("animate-before").addClass("animate")},0)},render:function(){return n.DOM.div({className:a({"pages-container":!0})},n.DOM.div({className:"page"},this.state.pages.map(function(t){return n.DOM.div({key:t.get_key()},t)})))}});e.exports=o},{jquery:"HlZQrA","react/addons":"g51q1L"}],8:[function(t,e){var n=t("jquery"),a=t("../home/HomePage"),i=t("../emoji_collection/EmojiCollectionEditPage"),o=t("./App").get_instance(),r=t("./routes"),s=t("page"),c=(t("./Db").get_instance(),function(){this.__attach_link_on_click();for(var t=0,e=r.length;e>t;++t){var n=r[t];s(n.route,this[n.handler].bind(this))}s(this.not_found),s.start({click:!1,popstate:!0,dispatch:!0})});c.prototype.reverse_animation_map={"slide-in-from-right":"slide-out-to-right","slide-out-to-right":"slide-in-from-right","slide-in-from-left":"slide-out-to-left","slide-out-to-left":"slide-in-from-left"},c.prototype.reverse_animation=function(t){if(this.reverse_animation_map[t])return this.reverse_animation_map[t];throw new Error("reverse_animation not allowed.")},c.prototype.home=function(t){this.current_ctx=t;var e=JSON.parse(JSON.stringify(t.state)),n=new a(e);o.go(n)},c.prototype.emoji_collection_edit=function(t){var e=new i({ctx:t});o.go(e)},c.prototype.not_found=function(){o.go(a,{})},c.prototype.__attach_link_on_click=function(){var t=this;n(document).on("click","a",function(e){var a=n(e.currentTarget),i=!1;if(!(i||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)){var o=a.attr("href"),r=a.attr("data-enter"),c=a.attr("data-leave"),u=a.attr("data-back"),l=a.attr("target"),d={data_enter:r,data_leave:c,click:!0};"_blank"===l||(e.preventDefault(),u?window.hipost.back():(t.current_ctx.state.data_enter=t.reverse_animation(c),t.current_ctx.state.data_leave=t.reverse_animation(r),t.current_ctx.save(),s.show(o,d)))}})},e.exports=c},{"../emoji_collection/EmojiCollectionEditPage":12,"../home/HomePage":14,"./App":3,"./Db":4,"./routes":11,jquery:"HlZQrA",page:2}],9:[function(t,e){var n=function(){};n.get_instance=function(){return this.instance?this.instance:this.instance=new this},e.exports=n},{}],10:[function(t){var e=t("./App"),n=t("react/addons"),a=t("jquery"),i=t("./Router"),o=t("fastclick"),r=t("./Db").get_instance();a(function(){var t=n.renderComponent(e.get_instance(),document.getElementById("app")),s=new i;o(document.body),t.React=n,t.$=a,t.router=s,t.db=r,window.app=t})},{"./App":3,"./Db":4,"./Router":8,fastclick:1,jquery:"HlZQrA","react/addons":"g51q1L"}],11:[function(t,e){var n=[{route:"/",handler:"home"},{route:"/:username/packs/:pack_id/edit",handler:"emoji_collection_edit"}];e.exports=n},{}],12:[function(t,e){var n=t("react/addons"),a=t("../home/HomeHeaderComponent"),i=t("../common/PageMixin"),o=n.createClass({displayName:"EmojiCollectionEditPage",mixins:[i],getInitialState:function(){return{classNames:["page-container"],ns:"EmojiCollectionEditPage"}},get_key:function(){return"home"},render:function(){return n.DOM.div({className:this.state.classNames.join(" ")},n.DOM.div({className:"page"},a({toggle_menu:this.props.toggle_menu,scroll_body_to_top:this.scroll_page_to_top}),n.DOM.div({className:"page-body-container"},n.DOM.div({className:"page-body"},"put stuff here!",this.props.ctx.params.username," ",this.props.ctx.params.pack_id))))}});e.exports=o},{"../common/PageMixin":6,"../home/HomeHeaderComponent":13,"react/addons":"g51q1L"}],13:[function(t,e){var n=t("react/addons"),a=t("../common/HeaderMixin"),i=n.createClass({displayName:"HomeHeaderComponent",mixins:[a],render:function(){return n.DOM.div({className:"page-header-container"},n.DOM.div({className:"page-header"},n.DOM.div({className:"page-header-center",onClick:this.props.scroll_body_to_top},n.DOM.div({className:""},"mojigram"))))}});e.exports=i},{"../common/HeaderMixin":5,"react/addons":"g51q1L"}],14:[function(t,e){var n=t("react/addons"),a=(t("./HomeHeaderComponent"),t("../common/PageMixin")),i=n.createClass({displayName:"HomePage",mixins:[a],getInitialState:function(){return{classNames:["page-container"],ns:"HomePage"}},get_key:function(){return"home"},render:function(){return n.DOM.div({className:this.state.classNames.join(" ")},n.DOM.div({className:"page"},n.DOM.div({className:"page-body-container"},n.DOM.div({className:"page-body"},n.DOM.div({className:"sprite-home-icon-bg-container"},n.DOM.div({className:"sprite sprite-home-icon-bg"})),n.DOM.div({className:"home-cta-container"},n.DOM.br(null),n.DOM.div({className:"sprite-home-logo-container"},n.DOM.div({className:"sprite sprite-home-logo"})),n.DOM.p(null,"Create your own stickers"),n.DOM.br(null),n.DOM.br(null)))),n.DOM.div({className:"footer"},"© 2014, Mojigram. ",n.DOM.a({href:"mailto:direct@mojigram.com",target:"_blank"},"Contact Us"))))}});e.exports=i},{"../common/PageMixin":6,"./HomeHeaderComponent":13,"react/addons":"g51q1L"}]},{},[10]);